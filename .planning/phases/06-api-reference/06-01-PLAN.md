---
phase: 06-api-reference
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [docs/api/graph.md, docs/api/nodes.md, docs/api/inputspec.md]
autonomous: true
must_haves:
  truths:
    - "Graph class constructor and all methods documented"
    - "strict_types behavior fully explained with examples"
    - "GraphNode nested composition documented"
    - "InputSpec categorization types documented"
  artifacts:
    - path: "docs/api/graph.md"
      provides: "Graph class reference"
      contains: "strict_types"
    - path: "docs/api/nodes.md"
      provides: "GraphNode reference added"
      contains: "GraphNode"
    - path: "docs/api/inputspec.md"
      provides: "InputSpec reference"
      contains: "required"
  key_links:
    - from: "docs/api/graph.md"
      to: "src/hypergraph/graph.py"
      via: "documents Graph class"
    - from: "docs/api/inputspec.md"
      to: "src/hypergraph/graph.py"
      via: "documents InputSpec namedtuple"
---

<objective>
Create comprehensive API reference documentation for Graph, GraphNode, and InputSpec.

Purpose: Complete the API reference to complement the existing nodes.md, giving users technical documentation for all public APIs.

Output:
1. docs/api/graph.md - Full Graph class reference with strict_types
2. docs/api/nodes.md - Updated with GraphNode section
3. docs/api/inputspec.md - InputSpec categorization reference
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Existing API reference (follow this style)
@docs/api/nodes.md

# Source code to document
@src/hypergraph/graph.py
@src/hypergraph/nodes/graph_node.py

# Tests for usage examples
@tests/test_graph.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Graph class API reference</name>
  <files>docs/api/graph.md</files>
  <action>
    Create comprehensive Graph class reference following nodes.md style:

    ## Structure:
    1. **Overview** - What Graph is, automatic edge inference, strict_types
    2. **Constructor** - `__init__(nodes, *, name, strict_types)`
       - Document all parameters with types and defaults
       - Show examples of construction
    3. **Properties**
       - `name: str | None`
       - `strict_types: bool`
       - `nodes: dict[str, HyperNode]`
       - `nx_graph: nx.DiGraph`
       - `inputs: InputSpec`
       - `outputs: tuple[str, ...]`
       - `has_cycles: bool`
       - `has_async_nodes: bool`
       - `definition_hash: str`
    4. **Methods**
       - `bind(**values) -> Graph`
       - `unbind(*names) -> Graph`
       - `get_default_for(name) -> Any`
       - `has_default_for(name) -> bool`
       - `get_input_type(name) -> type | None`
       - `get_output_type(name) -> type | None`
       - `as_node(name) -> GraphNode`
    5. **Type Validation (strict_types)**
       - How it works
       - Type mismatch errors
       - Missing annotation errors
       - Union type handling
       - When to use
    6. **Errors**
       - GraphConfigError - when raised, example messages

    Follow nodes.md patterns:
    - Code example first, then explanation
    - Args/Returns/Raises sections for methods
    - Technical tone, comprehensive detail
  </action>
  <verify>
    - File exists at docs/api/graph.md
    - Contains "strict_types" section
    - Contains "bind" and "unbind" documentation
    - Contains "as_node" documentation
  </verify>
  <done>Complete Graph class API reference with all methods and strict_types documentation</done>
</task>

<task type="auto">
  <name>Task 2: Add GraphNode section to nodes.md</name>
  <files>docs/api/nodes.md</files>
  <action>
    Add a new "GraphNode" section to nodes.md after the FunctionNode section.

    ## GraphNode
    - What it is (wraps a Graph as a node for composition)
    - Constructor signature
    - When created (via Graph.as_node())
    - Properties inherited from HyperNode
    - Properties specific to GraphNode:
      - `graph: Graph` (the inner graph)
      - Type forwarding behavior

    ## .as_node() Pattern
    - How to create nested graphs
    - Example: inner graph wrapped as node in outer graph
    - Type annotation forwarding from inner to outer

    Reference src/hypergraph/nodes/graph_node.py for implementation details.
  </action>
  <verify>
    - nodes.md contains "## GraphNode" section
    - Contains "as_node" pattern
    - Contains example of nested composition
  </verify>
  <done>GraphNode documented in nodes.md with composition examples</done>
</task>

<task type="auto">
  <name>Task 3: Create InputSpec API reference</name>
  <files>docs/api/inputspec.md</files>
  <action>
    Create InputSpec reference documenting the input categorization system:

    ## Structure:
    1. **Overview** - What InputSpec is, why categorization matters
    2. **The InputSpec NamedTuple**
       - `required: tuple[str, ...]` - Must be provided at runtime
       - `optional: tuple[str, ...]` - Have defaults, can be omitted
       - `seeds: tuple[str, ...]` - Break cycles, need initial values
       - `bound: dict[str, Any]` - Pre-filled with bind()
    3. **How Categories Are Determined**
       - Required: No default value, not bound
       - Optional: Has default value, not bound
       - Seeds: Consume their own output (cycle), not bound
       - Bound: Value pre-filled via bind()
    4. **Accessing InputSpec**
       - From Graph: `graph.inputs`
       - Iterating: `graph.inputs.required`, etc.
       - All inputs: `list(graph.inputs)` or tuple addition
    5. **Examples**
       - Simple graph with required/optional
       - Graph with bound values
       - Graph with cycles (seeds)

    Follow nodes.md style: code first, then explain.
  </action>
  <verify>
    - File exists at docs/api/inputspec.md
    - Contains "required", "optional", "seeds", "bound"
    - Contains examples showing each category
  </verify>
  <done>Complete InputSpec API reference with categorization examples</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] docs/api/graph.md exists with comprehensive Graph documentation
- [ ] docs/api/nodes.md contains GraphNode section
- [ ] docs/api/inputspec.md exists with InputSpec documentation
- [ ] All code examples are accurate (verify against actual API)
- [ ] All requirements satisfied: API-01, API-02, API-03, API-04, STYLE-02, STYLE-03
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Documentation follows consistent technical style from nodes.md
- Examples use accurate API signatures and output
</success_criteria>

<output>
After completion, create `.planning/phases/06-api-reference/06-01-SUMMARY.md`
</output>
